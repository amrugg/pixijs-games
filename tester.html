<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bible Memory Character Tester</title>
</head>
  <script src="pixi/pixi.min.js"></script>
  <script src="usefulFunctions.js"></script>
  <script src="simpleSetup.js"></script>
<body>
  <style>* {padding: 0; margin: 0}</style>
  <script type="text/javascript">
    PIXI.utils.skipHello();
    let Application = PIXI.Application,
    Container = PIXI.Container,
    loader = PIXI.loader,
    resources = PIXI.loader.resources,
    TextureCache = PIXI.utils.TextureCache,
    Sprite = PIXI.Sprite,
    Rectangle = PIXI.Rectangle,
    Graphics = PIXI.Graphics;
    let app = new Application({ 
        width: 800,
        height: 800,              
        antialias: true,
        transparent: true,
        resolution: 1,
    }
    );
    app.renderer.view.style.position = "absolute";
    app.renderer.view.style.display = "block";
    app.renderer.autoResize = true;
    app.renderer.resize(window.innerWidth, window.innerHeight);
    document.body.appendChild(app.view);
    loader.add("sprites/map.png");
    var files = ["skeletonking","eye","rat","skeleton","ogre","darkscorpion","skeleton2","spectre","deathknight","bat","goblin", "crab","adhererarcherarmor","adherer","adhererrobe","adminarmor","agent","ancientmanumentnpc","angelnpc","ant","archerarmor","archerschooluniform",];
    var browserQuestImgs = ["skeletonking","eye","rat","skeleton","ogre","darkscorpion","skeleton2","spectre","deathknight","bat","goblin", "crab"]
    loadArray(files, "sprites/bibmemimgs", "png");
    loader.load(setup);
    var i;
    var goblinTexture;
    var map;
    var id;
    var bow;
    function loadArray(array, folder, type){
      /// Loop through the array
      for(let i = 0; i < array.length; i++) {
        /// Make a string that we will change and eventually load with the loader
        let newString = "";
        /// If you give it a folder to load stuff from, so that you don't have to type it all yourself
        if(folder) {
          /// Start with that
          newString += folder;
          if(newString[newString.length - 1] != "/") {
            /// Make sure there's a slash at the end
            newString += "/"
          }
        }
        /// Then add that element
        newString += array[i];
        /// If you want to give it a type and not type that as well
        if(type){
          /// Make sure there's a dot at the end
          if(type[0] != ".") {
            newString += ".";
          }
          /// Add the type
          newString += type;
        }
        /// Load it!
        PIXI.loader.add(newString);
      }
    }
    function setup(){
        map = new Sprite(resources["sprites/map.png"].texture);
        app.stage.addChild(map);
        goblinTexture = TextureCache["sprites/bibmemimgs/"+browserQuestImgs[randInt(0,browserQuestImgs.length - 1)]+".png"];
        let rectangle = new Rectangle(8,8,72,72);
        goblinTexture.frame = rectangle;
        let goblin = new Sprite(goblinTexture);
        console.log(id);
        goblin.x = 550;
        goblin.y = 350;
        app.stage.addChild(goblin);
        i = 0;
    }
    </script>
</body>
</html>